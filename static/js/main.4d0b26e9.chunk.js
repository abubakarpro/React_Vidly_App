(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),i=a(3),o=(a(33),a(6)),s=a(11),m=a(8),u=a(7),d=a(9),b=a(15),v=a(22),f=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];var h=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!0},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5}];var g=function(e){var t=e.items,a=e.onItemSelect,n=e.selectedItem;return r.a.createElement("ul",{className:"list-group"},t.map(function(e){return r.a.createElement("li",{key:e._id,onClick:function(){return a(e)},className:e===n?"list-group-item active":"list-group-item"},e.name)}))},p=a(17),E=a.n(p),y=function(e){var t=e.pageSize,a=e.itemsCount,n=e.currentPage,l=e.onPageChange,c=Math.ceil(a/t);if(1===c)return null;var i=E.a.range(1,c+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},i.map(function(e){return r.a.createElement("li",{key:e,className:e===n?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",style:{cursor:"pointer"},onClick:function(){return l(e)}},e))})))};var k=function(e){var t="fa fa-heart";return e.liked||(t+="-o"),r.a.createElement("i",{onClick:e.onClick,style:{cursor:"pointer"},className:t,"aria-hidden":"true"})},N=function(e){var t=e.movie,a=e.onLike,n=e.onDelete;return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement(i.b,{to:"/movies/".concat(t._id)},t.title)),r.a.createElement("td",null,t.genre.name),r.a.createElement("td",null,t.numberInStock),r.a.createElement("td",null,t.dailyRentalRate),r.a.createElement("td",null,r.a.createElement(k,{liked:t.liked,onClick:function(){return a(t)}})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn-danger",onClick:function(){return n(t)}},"Delete")))},S=function(e){var t=e.movies,a=e.onDelete,n=e.onLike;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",null,"Rate"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(N,{key:e._id,movie:e,onLike:n,onDelete:a})})))},O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],genres:[],pageSize:4,currentPage:1,selectedGenre:""},a.handleDelete=function(e){var t=a.state.movies.filter(function(t){return t._id!==e._id});a.setState({movies:t})},a.handleLike=function(e){var t=Object(v.a)(a.state.movies),n=t.indexOf(e);t[n]=Object(b.a)({},t[n]),t[n].liked=!t[n].liked,a.setState({movies:t})},a.handlePageChange=function(e){a.setState({currentPage:e})},a.handleGenresSelect=function(e){a.setState({selectedGenre:e,currentPage:1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=[{name:"All Genres",_id:""}].concat(Object(v.a)(f.filter(function(e){return e})));this.setState({movies:h,genres:e})}},{key:"render",value:function(){var e=this.state.movies.length,t=this.state,a=t.pageSize,n=t.currentPage,l=t.selectedGenre,c=t.movies;if(0===e)return r.a.createElement("p",null,"There are no movies in DataBase");var i=l&&l._id?c.filter(function(e){return e.genre._id===l._id}):c,o=function(e,t,a){var n=(t-1)*a;return E()(e).slice(n).take(a).value()}(i,n,a);return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(g,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenresSelect})),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"There are ",i.length," movies in DataBase "),r.a.createElement(S,{movies:o,onLike:this.handleLike,onDelete:this.handleDelete}),r.a.createElement(y,{itemsCount:i.length,pageSize:a,currentPage:n,onPageChange:this.handlePageChange}))))}}]),t}(n.Component),j=a(12),_=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},"Vidly"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(i.c,{className:"nav-link",to:"/movies"},"Movies")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{className:"nav-link",to:"/customers"},"Customer")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{className:"nav-link",to:"/rentals"},"Rentals")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{className:"nav-link",to:"/loginForm"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{className:"nav-link",to:"/registerForm"},"Register")))))},w=function(){return r.a.createElement("h1",null,"Customers")},C=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"movie id is : ",e.match.params.id),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.history.push("/movies")}},"Save"))},R=function(){return r.a.createElement("h1",null,"Rentals")},I=function(){return r.a.createElement("h1",null,"Not Found (404) Page ")},P=a(10),T=a.n(P),D=a(16),A=function(e){var t=e.name,a=e.label,n=e.onChange,l=e.value,c=e.type,i=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",{value:l,onChange:n,name:t,type:c,id:t,className:"form-control"}),i&&r.a.createElement("div",{className:"alert alert-danger"},i))},G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:{},errors:{}},a.validate=function(){var e=T.a.validate(a.state.data,a.schema,{abortEarly:!1});if(!e.error)return null;var t={},n=!0,r=!1,l=void 0;try{for(var c,i=e.error.details[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;t[o.path[0]]=o.message}}catch(s){r=!0,l=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(D.a)({},t,n),l=Object(D.a)({},t,a.schema[t]),c=T.a.validate(r,l).error;return c?c.details[0].message:null},a.handleChange=function(e){var t=e.currentTarget,n=Object(b.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var l=Object(b.a)({},a.state.data);l[t.name]=t.value,a.setState({data:l,errors:n})},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.renderButton=function(e){return r.a.createElement("button",{disabled:a.validate(),type:"submit",className:"btn btn-primary"},e)},a.renderInput=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",l=a.state,c=l.data,i=l.errors;return r.a.createElement(A,{type:n,label:t,id:e,name:e,onChange:a.handleChange,value:c[e],error:i[e]})},a}return Object(d.a)(t,e),t}(n.Component),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:""},errors:{}},a.schema={username:T.a.string().required().label("Username"),password:T.a.string().required().label("Password")},a.doSubmit=function(){console.log("submitted")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password"),this.renderButton("login")))}}]),t}(G),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:"",name:""},errors:{}},a.schema={username:T.a.string().required().email().label("Username"),password:T.a.string().required().min(5).label("Password"),name:T.a.string().required().label("Name")},a.doSubmit=function(){console.log("Registered")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")))}}]),t}(G),L=(a(39),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement("div",{className:"container",style:{marginLeft:"70px"}},r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/RegisterForm",component:F}),r.a.createElement(j.b,{path:"/loginForm",component:x}),r.a.createElement(j.b,{path:"/movies/:id",component:C}),r.a.createElement(j.b,{path:"/movies",component:O}),r.a.createElement(j.b,{path:"/customers",component:w}),r.a.createElement(j.b,{path:"/movieForm",component:C}),r.a.createElement(j.b,{path:"/rentals",component:R}),r.a.createElement(j.b,{exact:!0,path:"/notFound",component:I}),r.a.createElement(j.a,{from:"/",exact:!0,to:"/movies"}),r.a.createElement(j.a,{to:"/notFound"}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(40),a(41);c.a.render(r.a.createElement(i.a,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.4d0b26e9.chunk.js.map